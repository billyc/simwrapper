{"version":3,"file":"GistView.d99ef6cb.js","sources":["../../src/js/gist.ts","../../src/layout-manager/GistView.vue","../../src/layout-manager/GistView.vue?vue&type=template&lang.js"],"sourcesContent":["import YAML from 'yaml'\n\nasync function load(id: string, options: any) {\n  try {\n    const params = options || {}\n\n    const gist = await (await fetch(`https://api.github.com/gists/${id}`)).json()\n    console.log({ gist })\n\n    // If a file was provided, use that one; otherwise use the first file in the gist\n    const data = params.file ? gist.files[params.file] : gist.files[Object.keys(gist.files)[0]]\n\n    var content = YAML.parse(data.content)\n    return content\n  } catch (e) {\n    console.error(e)\n  } finally {\n  }\n}\n\nexport default { load }\n","<template lang=\"pug\">\ndash-board(v-if=\"xsubfolder\"\n           root=\"gist\"\n           :gist=\"yaml\"\n           :xsubfolder=\"yaml.config.folder\")\n\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nimport { FileSystem, FileSystemConfig } from '@/Globals'\nimport GIST from '@/js/gist'\nimport DashBoard from './DashBoard.vue'\n\nexport default defineComponent({\n  name: 'GistView',\n  components: { DashBoard },\n  props: {\n    id: { type: String, required: true },\n  },\n  data: () => {\n    return {\n      fileSystemConfig: null as FileSystemConfig | null,\n      yaml: {} as any,\n      xsubfolder: '',\n    }\n  },\n  async mounted() {\n    try {\n      // fetch the json/yaml!\n      this.yaml = await GIST.load(this.id, this.$route.params)\n      this.xsubfolder = this.yaml.config.folder\n    } catch (e) {}\n  },\n})\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/styles.scss';\n</style>\n","\ndash-board(v-if=\"xsubfolder\"\n           root=\"gist\"\n           :gist=\"yaml\"\n           :xsubfolder=\"yaml.config.folder\")\n\n"],"names":["GIST","load","async","id","options","params","gist","fetch","json","console","log","data","file","files","Object","keys","YAML","parse","content","e","error","__vue2_script","defineComponent","name","components","DashBoard","props","type","String","required","fileSystemConfig","yaml","xsubfolder","mounted","this","$route","config","folder","_vm","_h","$createElement","_c","_self","attrs","root","_e"],"mappings":"oIAoBA,IAAeA,EAAA,CAAEC,KAlBjBC,eAAoBC,EAAYC,GAC1B,IACF,MAAMC,EAASD,GAAW,GAEpBE,cAAoBC,MAAM,gCAAgCJ,MAAOK,OACvEC,QAAQC,IAAI,CAAEJ,KAAAA,IAGd,MAAMK,EAAON,EAAOO,KAAON,EAAKO,MAAMR,EAAOO,MAAQN,EAAKO,MAAMC,OAAOC,KAAKT,EAAKO,OAAO,IAGjF,OADOG,EAAKC,MAAMN,EAAKO,SACvB,MACAC,GACPV,QAAQW,MAAMD,MCAlBE,EAAAC,EAAA,CACAC,KAAA,WACAC,WAAA,CAAAC,UAAAA,GACAC,MAAA,CACAvB,GAAA,CAAAwB,KAAAC,OAAAC,UAAA,IAEAlB,KAAA,KACA,CACAmB,iBAAA,KACAC,KAAA,GACAC,WAAA,KAAAC,gBAIA,IAEAC,KAAAH,WAAA/B,EAAAC,KAAAiC,KAAA/B,GAAA+B,KAAAC,OAAA9B,QACA6B,KAAAF,WAAAE,KAAAH,KAAAK,OAAAC,OAAA,MACAlB,8BCjCa,WACX,IAAImB,EAAIJ,KACJK,EAAGD,EAAIE,eACPC,EAAGH,EAAII,MAAMD,IAAIF,EAEd,OAAAD,EAAIN,WAAaS,EAAG,aAAc,CACvCE,MAAO,CACLC,KAAQ,OACRtC,KAAQgC,EAAIP,KACZC,WAAcM,EAAIP,KAAKK,OAAOC,UAE7BC,EAAIO,OAGW"}